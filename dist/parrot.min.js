/**
 * parrotjs - Client library to connect your frontend application with whatever sails backend
 * @version v0.10.22
 * @link    http://github.com/sailor/parrotjs
 * @author  Kiko Beats (https://github.com/Kikobeats)
 * @license MIT
 */
(function(){"use strict";var t;t=this.parrot={version:"0.10.22",environment:"development",initialize:{},endpoint:{},url:{},storage:{},$:"undefined"!=typeof $$&&null!==$$?$$:$},t.initialize=void 0,function(e){return e.add=function(t){return this[t.name]=t.url,this},e.set=function(e){return t.environment=e,this},e.remove=function(t){return delete this[t],this}}(t.endpoint),function(e){return e._URLS={},e._DEFAULT={method:"GET",protocol:"http"},e._getQuery=function(t){var e,n,r,o,u,i;for(i=new Url,i.protocol="",i.path="",e=o=0,u=t.length;u>o;e=o+=2)n=t[e],i.query[n]=t[e+1];return r=i.toString(),"?"===r.charAt(0)&&(r=r.substring(1)),r},e._createAjaxPromise=function(e){var n;return n=new Hope.Promise,t.$.ajax({type:e.method||"GET",url:e.url,data:e.send||{},dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(){return function(t){var e;return 0===t.status?(e={code:0,message:"Server Unavailable"},n.done(e,null)):n.done(null,t)}}(this),error:function(){return function(t,e){var r;return r={code:e.status,message:e.response},n.done(r,null)}}(this)}),n},e._bindAdd=function(t){var e;return e=this._URLS[t]},e.ajax=function(e,n){var r;return"string"==typeof arguments[0]&&(e=this._URLS[arguments[0]]||{url:arguments[0]}),e.url||(e.url=""+t.endpoint[t.environment]),null!=e.path&&(e.url=""+e.url+"/"+e.path),null!=e.query&&(e.url=""+e.url+"?"+e.query),r=this._createAjaxPromise(e),r.then(function(t,e){return n(t,e)})},e.add=function(t){return null==t.method&&(t.method=this._DEFAULT.method),null==t.protocol&&(t.protocol=this._DEFAULT.protocol),this[t.name]=this._URLS[t.name]={method:t.method,protocol:t.protocol,path:t.path,query:null!=t.query?this._getQuery(t.query):void 0},this},e.remove=function(t){return delete this[t],this}}(t.url),t.storage=void 0}).call(this);