/**
 * parrotjs - Client library to connect your frontend application with whatever API backend
 * @version v0.10.25
 * @link    http://github.com/sailor/parrotjs
 * @author  Kiko Beats (https://github.com/Kikobeats)
 * @license MIT
 */
(function(){"use strict";var t;t=this.parrot={version:"0.10.25",environment:"development",initialize:{},endpoint:{},url:{},storage:{local:{},session:{}},$:"undefined"!=typeof $$&&null!==$$?$$:$},function(){return t._partial=function(t){var e;return e=Array.prototype.slice.call(arguments,1),function(){var n;return n=e.concat(Array.prototype.slice.call(arguments)),t.apply(this,n)}}}(),function(e){return e.add=function(t){return this[t.name]=function(){return t.url},this},e.set=function(e){return t.environment=e,this},e.remove=function(t){return delete this[t],this}}(t.endpoint),function(e){return e._URLS={},e._DEFAULT={method:"GET",protocol:"http",send:{}},e._getQuery=function(t){var e,n,r,o,s,i;for(i=new Url,i.protocol="",i.path="",e=o=0,s=t.length;s>o;e=o+=2)n=t[e],i.query[n]=t[e+1];return r=i.toString(),"?"===r.charAt(0)&&(r=r.substring(1)),r},e._createAjaxPromise=function(e){var n;return n=new Hope.Promise,t.$.ajax({type:e.method||this._DEFAULT.method,url:e.url,data:e.send||this._DEFAULT.send,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(){return function(t){var e;return 0===t.status?(e={code:0,message:"Server Unavailable"},n.done(e,null)):n.done(null,t)}}(this),error:function(){return function(t,e){var r;return r={code:e.status,message:e.response},n.done(r,null)}}(this)}),n},e._bindAdd=function(t,e){return null!=e&&(null!=e.method&&(this._URLS[t].method=e.method),null!=e.protocol&&(this._URLS[t].protocol=e.protocol),null!=e.path&&(this._URLS[t].path=e.path),null!=e.query&&(this._URLS[t].query=this._getQuery(e.query))),this._URLS[t]},e.add=function(n){return null==n.method&&(n.method=this._DEFAULT.method),null==n.protocol&&(n.protocol=this._DEFAULT.protocol),n.query=null!=n.query?this._getQuery(n.query):void 0,null==n.send&&(n.send={}),this._URLS[n.name]={method:n.method,protocol:n.protocol,path:n.path,query:n.query,send:n.send},this[n.name]=t._partial(this._bindAdd,n.name).bind(e),this},e.ajax=function(e,n){var r;return"string"==typeof arguments[0]&&(e=this._URLS[arguments[0]]||{url:arguments[0]}),e.url||(e.url=""+t.endpoint[t.environment]()),null!=e.path&&(e.url=""+e.url+"/"+e.path),null!=e.query&&(e.url=""+e.url+"?"+e.query),r=this._createAjaxPromise(e),r.then(function(t,e){return n(t,e)})},e.remove=function(t){return delete this[t],this}}(t.url),function(e){return e._storage=function(t){return"local"===t?localStorage:sessionStorage},e._get=function(t,e,n){return null==n&&(n=!1),n?JSON.parse(this._storage(t).getItem(e)):this._storage(t).getItem(e)},e._set=function(n,r,o){return"string"!=typeof o?(o=JSON.stringify(o),this._storage(n).setItem(r,o),this[n][r]=t._partial(this._get,n,r,!0).bind(e)):(this._storage(n).setItem(r,o),this[n][r]=t._partial(this._get,n,r,!1).bind(e))},e._remove=function(t,e){return delete this[t][e],this._storage(t).removeItem(e)},e._removeAll=function(t){var e,n,r,o;for(n=Object.keys(this._storage(t)),r=0,o=n.length;o>r;r++)e=n[r],delete this[t][e];return this._storage(t).clear()},e._size=function(t){return this._storage(t).length},e._is=function(t,e){return null!=this._storage(t)[e]?!0:!1},e.local.set=function(e,n){return t.storage._set("local",e,n),this},e.local.remove=function(e){return t.storage._remove("local",e),this},e.local.removeAll=function(){return t.storage._removeAll("local"),this},e.local.size=function(){return t.storage._size("local")},e.local.isAvailable=function(e){return t.storage._is("local",e)},e.session.set=function(e,n){return t.storage._set("session",e,n),this},e.session.remove=function(e){return t.storage._remove("session",e),this},e.session.removeAll=function(){return t.storage._removeAll("session"),this},e.session.size=function(){return t.storage._size("session")},e.session.isAvailable=function(e){return t.storage._is("session",e)}}(t.storage)}).call(this);
