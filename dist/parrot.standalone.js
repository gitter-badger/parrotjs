/**
 * parrotjs - Client library to connect your frontend application with whatever API backend
 * @version v0.10.26
 * @link    http://github.com/sailor/parrotjs
 * @author  Kiko Beats (https://github.com/Kikobeats)
 * @license MIT
 */
(function(){"use strict";var t;t=this.parrot={version:"0.10.26",environment:"development",initialize:{},endpoint:{},url:{},store:{local:{},session:{}},$:"undefined"!=typeof $$&&null!==$$?$$:$},function(){return t._DEFAULT={METHOD:"GET",PROTOCOL:"http",SEND:{}},t._partial=function(t){var e;return e=Array.prototype.slice.call(arguments,1),function(){var r;return r=e.concat(Array.prototype.slice.call(arguments)),t.apply(this,r)}},t._createAjaxPromise=function(e){var r;return r=new Hope.Promise,t.$.ajax({type:e.method||this._DEFAULT.METHOD,url:e.url,data:e.send||this._DEFAULT.SEND,dataType:"json",contentType:"application/x-www-form-urlencoded",success:function(t){var e;return 0===t.status?(e={code:0,message:"Server Unavailable"},r.done(e,null)):r.done(null,t)},error:function(t,e){var n;return n={code:e.status,message:e.response},r.done(n,null)}}),r},t.ajax=function(e,r){var n,o;return o=""+t.endpoint[t.environment](),e.url?e.url!==o&&e.url!==""+o+"/"+e.path&&e.url!==""+o+"?"+e.query&&e.url!==""+o+"/"+e.path+"?"+e.query&&(null!=e.path&&(e.url=""+e.url+"/"+e.path),null!=e.query&&(e.url=""+e.url+"?"+e.query)):("string"==typeof arguments[0]&&(e=t.url._URLS[arguments[0]]||{url:arguments[0]}),e.query&&e.path?e.url=""+o+"/"+e.path+"?"+e.query:(e.query&&!e.path&&(e.url=""+o+"?"+e.query),e.path&&!e.query&&(e.url=""+o+"/"+e.path))),n=this._createAjaxPromise(e),n.then(function(t,e){return r(t,e)})}}(),function(e){return e.add=function(t){return this[t.name]=function(){return t.url},this},e.set=function(e){return t.environment=e,this},e.remove=function(t){return delete this[t],this}}(t.endpoint),function(e){return e._URLS={},e._getQuery=function(t){var e,r,n,o,s,i;for(i=new Url,i.protocol="",i.path="",e=o=0,s=t.length;s>o;e=o+=2)r=t[e],i.query[r]=t[e+1];return n=i.toString(),"?"===n.charAt(0)&&(n=n.substring(1)),n},e._bindAdd=function(t,e){return null!=e&&(null!=e.method&&(this._URLS[t].method=e.method),null!=e.protocol&&(this._URLS[t].protocol=e.protocol),null!=e.path&&(this._URLS[t].path=e.path),null!=e.query&&(this._URLS[t].query=this._getQuery(e.query)),null!=e.send&&(this._URLS[t].send=e.send)),this._URLS[t]},e.add=function(r){return null==r.method&&(r.method=t._DEFAULT.METHOD),null==r.protocol&&(r.protocol=t._DEFAULT.PROTOCOL),r.query=null!=r.query?this._getQuery(r.query):void 0,null==r.send&&(r.send=void 0),this._URLS[r.name]={method:r.method,protocol:r.protocol,path:r.path,query:r.query,send:r.send},this[r.name]=t._partial(this._bindAdd,r.name).bind(e),this},e.remove=function(t){return delete this[t],this}}(t.url),function(e){return e._store=function(t){return"local"===t?localStorage:sessionStorage},e._get=function(t,e,r){return null==r&&(r=!1),r?JSON.parse(this._store(t).getItem(e)):this._store(t).getItem(e)},e._set=function(r,n,o){return"string"!=typeof o?(o=JSON.stringify(o),this._store(r).setItem(n,o),this[r][n]=t._partial(this._get,r,n,!0).bind(e)):(this._store(r).setItem(n,o),this[r][n]=t._partial(this._get,r,n,!1).bind(e))},e._remove=function(t,e){return delete this[t][e],this._store(t).removeItem(e)},e._removeAll=function(t){var e,r,n,o;for(r=Object.keys(this._store(t)),n=0,o=r.length;o>n;n++)e=r[n],delete this[t][e];return this._store(t).clear()},e._size=function(t){return this._store(t).length},e._is=function(t,e){return null!=this._store(t)[e]?!0:!1},e.local.set=function(e,r){return t.store._set("local",e,r),this},e.local.remove=function(e){return t.store._remove("local",e),this},e.local.removeAll=function(){return t.store._removeAll("local"),this},e.local.size=function(){return t.store._size("local")},e.local.isAvailable=function(e){return t.store._is("local",e)},e.session.set=function(e,r){return t.store._set("session",e,r),this},e.session.remove=function(e){return t.store._remove("session",e),this},e.session.removeAll=function(){return t.store._removeAll("session"),this},e.session.size=function(){return t.store._size("session")},e.session.isAvailable=function(e){return t.store._is("session",e)}}(t.store)}).call(this);